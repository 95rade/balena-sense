[agent]
  interval = "10s"
  round_interval = true

  metric_batch_size = 1000
  metric_buffer_limit = 10000
  collection_jitter = "0s"
  flush_interval = "10s"
  flush_jitter = "0s"
  precision = ""

  debug = false
  quiet = false
  logfile = ""

  hostname = ""
  omit_hostname = false

[[outputs.influxdb]]
  urls = ["http://influxdb:8086"]
  database = "balena-sense"

[[inputs.file]]
  files = ["/sys/bus/iio/devices/iio:device0/in_temp_input"]

  name_override = "temperature"
  data_format = "value"
  data_type = "float"

[[inputs.file]]
  files = ["/sys/bus/iio/devices/iio:device0/in_humidityrelative_input"]
  name_override = "humidity"
  data_format = "value"
  data_type = "float"

[[inputs.file]]
  files = ["/sys/bus/iio/devices/iio:device0/in_pressure_input"]
  name_override = "pressure"
  data_format = "value"
  data_type = "float"

[[inputs.exec]]
  commands = ["/usr/src/app/airquality.py"]
  name_override = "air_quality_score"
  data_format = "value"
  data_type = "float"
